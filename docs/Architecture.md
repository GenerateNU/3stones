# Tech Stack

- [Golang](https://go.dev/) is the language we are using for the backend.
- [Fiber](https://gofiber.io/) is the library we are using for route handling, request parsing, response writing, etc.
- [PostgreSQL](https://www.postgresql.org/) is the database we are using for the backend.
- [Supabase](https://supabase.com/) is a SaaS platform that manages PostgreSQL for us.
- [Ent.go](https://entgo.io/) is an entity framework (or ORM) we're using.

# Directory structure
- `docs/`: Contains all documentation for the project.
- `config`: Contains `.env` files used by the backend for configuration.
- `backend/`: Contains all code for the backend.
    - `main.go`: Code to initialize and run the webserver.
    - `routes/`: Contains functions that initialize controllers and creates routes for the webserver.
    - `controllers/`: Contains controllers, which handle request parsing, returning a response, and calling into transactions to do business logic.
    - `transactions/`: Contains functions to handle querying/updating/inserting into the database or any other services/integrations 3stones uses.
    - `ent/`: Contains code for interacting with the database. Most of this code is generated by `Ent.go` and should not be hand-edited.
        - `schema/`: Contains schema/model defintions that map to the database. Code in this directory is meant to be modified/hand-edited.
    - `types/`: Type defintions used throughout the codebase.
    - `utilties/`: Helper functions used throughout the codebase.
    - `config/`: Type definitions and functions used for parsing `.env` configs.
    - `frontend/`: TODO

# Using Ent.go
Ent.go is an ORM that relies heavily on code generation: rather than writing SQL scripts and Go code to manually create database tables, we define our model in `ent/schema/` and run a command to write this code for us. You should familiarize yourself with Ent.go, with its [Getting Started page](https://entgo.io/docs/getting-started), the [Schema section](https://entgo.io/docs/schema-def), and [Code Generation section](https://entgo.io/docs/code-gen).

Lastly, keep in mind that new model definitions can be created with `go run -mod=mod entgo.io/ent/cmd/ent new MODEL_NAME`, and that when you are done creating/updating/deleting a model definition, to run `go generate ./ent` to reflect these changes. Make sure these commands are run in the `backend/` directory.