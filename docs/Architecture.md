# Tech Stack

- [Golang](https://go.dev/) is the language we are using for the backend.
- [Fiber](https://gofiber.io/) is the library we are using for route handling, request parsing, response writing, etc.
- [PostgreSQL](https://www.postgresql.org/) is the database we are using for the backend.
- [Supabase](https://supabase.com/) is a SaaS platform that manages PostgreSQL for us.
- [Ent.go](https://entgo.io/) is an entity framework (or ORM) we're using.
- [TypeScript](https://www.typescriptlang.org/) is the language we are using for the frontend.
- [React Native](https://reactnative.dev/) is the mobile UI framework we are using for the frontend.

# Directory structure

- `docs/`: Contains all documentation for the project.
- `config/`: Contains `.env` files used by the backend for configuration.
- `backend/`: Contains all code for the backend.
  - `cmd/`: Entrypoint code for all backend tasks. Packages in this directory should probably only contain a `main.go` file.
    - `server/main.go`: Code to initialize and run the webserver.
    - `reset/main.go`: Code to reset the database.
    - `seed/main.go`: Code to seed the database.
    - `login/main.go`: Code to do a login w/ Supabase auth.
  - `internal/`: Contains all internal server code.
    - `auth/`: Code for authentication. Right now this is just the middleware. See `Authentication-Notes.md` for an overview.
    - `config/`: Type definitions and functions used for parsing `.env` configs.
    - `controllers/`: Contains controllers, which handle request parsing, returning a response, and calling into transactions to do business logic.
    - `errors/`: Contains type definitions and constants for API error handling.
    - `models/`: Contains types for database rows/objects.
    - `routes/`: Contains functions that initialize controllers and creates routes for the webserver.
    - `setup/`: Contains the `SetupServer` method for initializing the server.
    - `transactions/`: Contains functions to handle querying/updating/inserting into the database or any other services/integrations 3stones uses.
    - `types/`: Type defintions used throughout the codebase.
    - `utilties/`: Helper functions used throughout the codebase.
  - `supabase/`: Supabase configuration.
    - `seed.sql/`: SQL file called to initialize data when the DB is first created. **Put seed data in here!**
    - `migrations/20240910200423_initialize.sql`: SQL file to define tables. Since we aren't really using migrations, **Put table initialization in here!**
- `frontend/`: Contains all code for the frontend.
  - `__test__/`: Contains all tests for frontend code.
  - `.expo/`: Setup and configuration files created by expo.
  - `assets/`: Contains images, fonts, etc. needed for the frontend.
  - `constants/`: All constants used in the frontend, such as colors.
  - `node_modules/`: External packages.
  - `src/`: Contains all product code for the frontend.
    - `components/`: Code for components used across the app.
    - `context/`: Code for any contexts used across the app.
    - `navigation/`: Code for screen navigators/React Router stacks.
    - `screens/`: Contains all the screens for the app. Screens that make up a single feature/flow are contained in their own subdirectory.
    - `services/`: Code to interface with services used in the frontend, such as the API.
    - `types/`: Type definitions.
    - `util/`: Utility/helper functions.
    - `constants.ts`: Constants used across the app (API and Supabase links).
  - `App.js`: The main entrypoint for running the frontend.
  - All of the other files are configuration files.